Discovery Task REST API
=======================

PUT /V1/CMDB/Discovery/Tasks
----------------------------

Call this API to update a scheduled discovery task.

This API is an improved edition from the original releases. It is backward
compatible.

The required user privileges follow the system requirement.

Detail Information
------------------

\| Title: Discovery Task API

\| Version: 03/10/2021

\| API Server URL: http(s)://IP Address of NetBrain Web API
Server/ServicesAPI/API/V1/CMDB/Discovery/Tasks

\| Authentication:

| **Type**              | **In**  | **Name**             |
|-----------------------|---------|----------------------|
| Bearer Authentication | Headers | Authentication token |

Query Parameters (\*required)
-----------------------------

\| No parameters required.

Request body (\*required)
-------------------------

| **Name**                                | **Type**         | **Description**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|-----------------------------------------|------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| taskName\*                              | String           | The name of the task                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| newTaskName\*                           | String           | The new name of the task                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| description                             | String           | The description of the task. This field is optional.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| startDate\*                             | String           | The date when the task starts to run. The standard time format is required, for example, '2017-07-13', '2017/07/13'. Current date will be used by default.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| endDate\*                               | String           | The date when the task end to run. The standard time format is required, for example, '2017-07-13', '2017/07/13'.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| schedule\*                              | Object           | The schedule to run the task. The following sub parameters are included in this object: ▪ frequency\* (string) - the frequency to run the task. This field is required and includes ”once”, “hourly”,” daily”, “weekly” and “monthly” options. ▪ interval(string) - the interval to run the task (optional). This field is only valid for “hourly”,” daily”, and “weekly” options and the default value is 1, such as every 1 hour, 1 week. ▪ startTime\* (string) - the time to run the task. This field is required and startTime should be in format: ["HH:mm:ss"], if you put date time format such as "2018/04/04 19:20:20 ", "19:20:20" will be used and the date part "2018/04/04" will be ignored. Note: Set the time according to your IIS server time zone since the time zone of your ISS server rather than your physical time zone is adopted by the benchmark task. ▪ weekday(integer) - the day of the week to run the task. This field is optional and only valid when the frequency is weekly. 0 stands for Sunday, 6 for Saturday and 1-5 for Monday to Friday respectively. ▪ dayOfMonth(integer) - which day of a month to run the task. This field is optional and only valid when the frequency is monthly. The default is 1. ▪ Months(integer) - which month to run the task. This field is optional and only valid when the frequency is monthly. The default is all 12 months. |
| isEnable                                | Bool             | Determine whether to enable the task. This field is optional and the default value is true.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| discoverySeedType\*                     | Integer          | 1:Discover All Live Network 2:Discover Selected Live Network 3:API Triggered Discovery [Default]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| discoverDevicesViaApi                   | Object           | Applicable to discoverySeedType 2 only. A JSON object of the Discover Devices via API setting.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| discoverDevicesViaApi.apiServers        | Array of objects | Applicable to discoverySeedType 2 only. A list of API Server objects.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| discoverDevicesViaApi.apiServers.id     | String           | Applicable to discoverySeedType 2 only. API Server ID.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| discoverDevicesViaApi.apiServers.name   | String           | Applicable to discoverySeedType 2 only. API Server Name.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| advancedOptions                         | Object           | A JSON object of the Advanced Options setting.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| advancedOptions.runAdditionalOperations | Bool             | Detemine whether or not to enable the “Run additional operations after discovery” setting. Please refer to discovery documentation for more details of this setting. Default is True.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |

Headers
-------

\| Data Format Headers

| **Name**     | **Type** | **Description**            |
|--------------|----------|----------------------------|
| Content-Type | String   | Support “application/json” |
| Accept       | String   | Support “application/json” |

\| Authorization Headers

| **Name** | **Type** | **Description**                           |
|----------|----------|-------------------------------------------|
| Token    | String   | Authentication token, get from login API. |

Response
--------

| **Name**          | **Type** | **Description**                               |
|-------------------|----------|-----------------------------------------------|
| statusCode        | Integer  | The returned status code of executing the API |
| statusDescription | String   | The explanation of the status code            |

\| *Example*

1.  {  }
